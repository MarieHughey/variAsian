<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Julius+Sans+One">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>VariAsian: Member Login</title>
  </head>

  <body>
    <div class="container">
        <img src="../images/fake_love.png" id="memberPic" alt="" style="width:100%;">
        <div class="header" id ="aboutHeader" style="font-family: 'Julius Sans One', serif; font-size: 60px;">
          <h2>Member Services</h2>
        </div>

        <div class="text-block">
            <h4>Sign In</h4>
            <form id="login-form">
                <p> Email</p>
                <input type="email" name="" placeholder="Enter Email" id="userEmail" style="font-family: 'Julius Sans One', serif;">
                <p> Password</p>
                <input type="password" name="" placeholder="Enter Password" id="userPassword" style="font-family: 'Julius Sans One', serif;">
                <button class="submit" name="" style="font-family: 'Julius Sans One', serif;">Login</button>
                <a href="register_account.html" style="color: rgb(85, 17, 173)">Create an Account</a>
            </form>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-firestore.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCsV0oOkeADiAgYiLriwK-s5PCuyg62ejk",
        authDomain: "variasian-connected.firebaseapp.com",
        databaseURL: "https://variasian-connected.firebaseio.com",
        projectId: "variasian-connected",
        storageBucket: "variasian-connected.appspot.com",
        messagingSenderId: "317829998576"
      };
      firebase.initializeApp(config);

      const auth = firebase.auth();
      const db = firebase.firestore();

    </script> 

    <script>
    
    const loginForm = document.querySelector('#login-form');
    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const email = loginForm['userEmail'].value;
        const password = loginForm['userPassword'].value;
        console.log(email);
        console.log(password);

        auth.signInWithEmailAndPassword(email, password).then(cred => {
            console.log(cred.user);
            open("member_services.html", "_self");
        });
    })

    </script>
  </body>
</html>